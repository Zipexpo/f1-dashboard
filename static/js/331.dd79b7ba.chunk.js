"use strict";(self.webpackChunkapp_perform_dashboard=self.webpackChunkapp_perform_dashboard||[]).push([[331],{6331:function(t,e,n){n.r(e),n.d(e,{default:function(){return Y}});var r=n(1413),a=n(3433),o=n(9439),u=n(9434),i=n(5739),c=n(1923),s=n(6846),f=n(9218),l=n(1889),m=n(890),p=n(3767),h=n(3786),d=n(388),v=n(7621),x=n(4554),y=n(2791),g=n(8452),Z=n(8286),b=n(184),k=[],j={title:{text:"",pad:0},margin:{t:10,l:50,b:30,r:30}},w=function(t){var e,n,a=t.data,u=void 0===a?k:a,i=t.xKey,c=t.domain,s=t.yKey,f=t.cKey,l=(t.getArr,t.getName,t.colorDomain),m=void 0===l?c:l,p=t.mode,h=void 0===p?"line":p,d=t.showscale,v=(0,y.useTransition)(),x=(0,o.Z)(v,2),g=(x[0],x[1]),w=(0,y.useState)(k),S=(0,o.Z)(w,2),M=S[0],z=S[1],E=(0,y.useState)([]),K=(0,o.Z)(E,2),A=K[0],H=K[1];(0,y.useEffect)((function(){g((function(){var t=[],e=[];u.forEach((function(n){t.push(n[i]),e.push(n[s])})),z({x:t,y:e})}))}),[i,s,u]),(0,y.useEffect)((function(){H("markers"===h&&f?u.map((function(t){return t[f]})):[])}),[u,f,h]);var P=[{x:M.x,y:M.y,type:"scatter",mode:h}];A.length&&(P[0].marker={color:A,colorscale:"Portland",colorbarTitleText:f,colorbarThickness:5,showscale:d,cmin:m[0],cmax:m[1]});var N=(0,r.Z)((0,r.Z)({},j),{},{yaxis:{title:"<b>".concat(null!==(e=c[s].label)&&void 0!==e?e:s,"</b>"),autorange:!1,range:c[s]},xaxis:{title:"<b>".concat(null!==(n=c[i].label)&&void 0!==n?n:i,"</b>")}});return(0,b.jsx)(Z.Z,{data:P,style:{width:"100%",height:"100%"},layout:N,useResizeHandler:!0})},S=[],M={title:{text:"",pad:0},margin:{t:10,l:50,b:20,r:30}},z=function(t){var e,n,a=t.data,u=void 0===a?S:a,i=t.getArr,c=t.getName,s=t.xKey,f=t.yKey,l=t.domain,m=(t.mode,t.showscale,(0,y.useTransition)()),p=(0,o.Z)(m,2),h=(p[0],p[1]),d=(0,y.useState)(S),v=(0,o.Z)(d,2),x=v[0],g=v[1],k=(0,y.useState)([]),j=(0,o.Z)(k,2);j[0],j[1];(0,y.useEffect)((function(){h((function(){var t=u.map((function(t){var e=[],n=[];return i(t).forEach((function(t){e.push(t[s]),n.push(t[f])})),{name:c(t),x:e,y:n,type:"scatter"}}));g(t)}))}),[s,f,u]);var w=(0,r.Z)((0,r.Z)({},M),{},{yaxis:{title:"<b>".concat(null!==(e=l[f].label)&&void 0!==e?e:f,"</b>")},xaxis:{title:"<b>".concat(null!==(n=l[s].label)&&void 0!==n?n:s,"</b>")}});return(0,b.jsx)(Z.Z,{data:x,style:{width:"100%",height:"100%"},layout:w,useResizeHandler:!0})},E=[],K={title:{text:"",pad:0},margin:{t:10,l:50,b:20,r:10}},A=function(t){var e=t.data,n=void 0===e?E:e,a=t.getArr,u=t.getName,i=t.xKey,c=t.yKey,s=t.zKey,f=(t.mode,(0,y.useState)(E)),l=(0,o.Z)(f,2),m=l[0],p=l[1];(0,y.useEffect)((function(){var t=n.map((function(t){var e=[],n=[],r=[];return a(t).forEach((function(t){e.push(t[i]),n.push(t[c]),r.push(t[s])})),{name:u(t),x:e,y:n,z:r}}));p(t)}),[i,c,s,n]);var h=(0,y.useMemo)((function(){return m.map((function(t){return(0,r.Z)((0,r.Z)({},t),{},{type:"scatter3d",colorscale:"Portland",mode:"markers",marker:{size:3}})}))}),[m]);return(0,b.jsx)(Z.Z,{data:h,style:{width:"100%",height:"100%"},layout:(0,r.Z)((0,r.Z)({},K),{},{scene:{xaxis:{title:{text:i}},yaxis:{title:{text:c}},zaxis:{title:{text:s}}}}),useResizeHandler:!0})},H=[],P={title:{text:"",pad:0},margin:{t:10,l:50,b:50,r:10},hovermode:"closest",dragmode:"select",plot_bgcolor:"rgba(240,240,240, 0.95)",grid:{roworder:"bottom to top"}},N=function(t){var e=t.data,n=void 0===e?H:e,a=t.getArr,u=t.getName,i=t.dimensionKeys,c=(t.mode,(0,y.useState)(H)),s=(0,o.Z)(c,2),f=s[0],l=s[1],m=(0,y.useState)(P),p=(0,o.Z)(m,2),h=p[0],d=p[1];(0,y.useEffect)((function(){var t=n.map((function(t){var e=i.map((function(t){return{label:t,values:[]}}));return a(t).forEach((function(t){e.forEach((function(e){e.values.push(t[e.label])}))})),{type:"splom",name:u(t),dimensions:e,marker:{size:5,line:{color:"white",width:.5}}}}));l(t)}),[i,n]),(0,y.useEffect)((function(){var t=(0,r.Z)({},P);i.forEach((function(e,n){t["xaxis".concat(n)]=v(),t["yaxis".concat(n)]=v()})),d(t)}),[i]);var v=function(){return{showline:!1,zeroline:!1,gridcolor:"#ffff",ticklen:4}};return(0,b.jsx)(Z.Z,{data:f,style:{width:"100%",height:"100%"},layout:h,useResizeHandler:!0})},R=function(){function t(t){return e(t).map((function(e){return g.Smz(e)/t.length}))}function e(t){return g.w6H(t[0].length).map((function(e){return t.map((function(t){return t[e]}))}))}function n(t,n){return t.map((function(t){return e(n).map((function(e){return g.Smz(g.$Re(t,e).map((function(t){return t[0]*t[1]})))}))}))}function r(t,e){return g.w6H(t).map((function(t){return g.w6H(e).map((function(){return 0}))}))}function a(t,e){return console.assert(t.length===e.length,"dim(x) == dim(y)"),g.$Re(t,e).map((function(t){return"number"===typeof t[0]?t[0]-t[1]:g.$Re(t[0],t[1]).map((function(t){return t[0]-t[1]}))}))}this.scale=function(e,n,r){if(n){var o=t(e);e=e.map((function(t){return a(t,o)}))}if(r){var u=function(e){t(e);return n=t(function(t,e){return g.$Re(t,e).map((function(t){return"number"===typeof t[0]?t[0]*t[1]:g.$Re(t[0],t[1]).map((function(t){return t[0]*t[1]}))}))}(e,e)),n.map((function(t){return Math.sqrt(t)}));var n}(e);e=e.map((function(t){return e=t,n=u,console.assert(e.length===n.length,"dim(x) == dim(y)"),g.$Re(e,n).map((function(t){return 0!==t[1]?t[0]/t[1]:0}));var e,n}))}return e},this.pca=function(t,e){var o=function(t){var e,n=Math.pow(2,-52),a=1e-64/n,o=50,u=0,i=0,c=0,s=0,f=0,l=t.map((function(t){return t.slice(0)})),m=l.length,p=l[0].length;console.assert(m>=p,"Need more rows than columns");var h=g.w6H(p).map((function(){return 0})),d=g.w6H(p).map((function(){return 0})),v=r(p,p);function x(t,e){return(t=Math.abs(t))>(e=Math.abs(e))?t*Math.sqrt(1+e*e/t/t):0===e?t:e*Math.sqrt(1+t*t/e/e)}var y=0,Z=0,b=0,k=0,j=0,w=0,S=0;for(i=0;i<p;i++){for(h[i]=Z,S=0,f=i+1,c=i;c<m;c++)S+=l[c][i]*l[c][i];if(S<=a)Z=0;else for(y=l[i][i],Z=Math.sqrt(S),y>=0&&(Z=-Z),b=y*Z-S,l[i][i]=y-Z,c=f;c<p;c++){for(S=0,s=i;s<m;s++)S+=l[s][i]*l[s][c];for(y=S/b,s=i;s<m;s++)l[s][c]+=y*l[s][i]}for(d[i]=Z,S=0,c=f;c<p;c++)S+=l[i][c]*l[i][c];if(S<=a)Z=0;else{for(y=l[i][i+1],Z=Math.sqrt(S),y>=0&&(Z=-Z),b=y*Z-S,l[i][i+1]=y-Z,c=f;c<p;c++)h[c]=l[i][c]/b;for(c=f;c<m;c++){for(S=0,s=f;s<p;s++)S+=l[c][s]*l[i][s];for(s=f;s<p;s++)l[c][s]+=S*h[s]}}(j=Math.abs(d[i])+Math.abs(h[i]))>k&&(k=j)}for(i=p-1;-1!==i;i+=-1){if(0!==Z){for(b=Z*l[i][i+1],c=f;c<p;c++)v[c][i]=l[i][c]/b;for(c=f;c<p;c++){for(S=0,s=f;s<p;s++)S+=l[i][s]*v[s][c];for(s=f;s<p;s++)v[s][c]+=S*v[s][i]}}for(c=f;c<p;c++)v[i][c]=0,v[c][i]=0;v[i][i]=1,Z=h[i],f=i}for(i=p-1;-1!==i;i+=-1){for(f=i+1,Z=d[i],c=f;c<p;c++)l[i][c]=0;if(0!==Z){for(b=l[i][i]*Z,c=f;c<p;c++){for(S=0,s=f;s<m;s++)S+=l[s][i]*l[s][c];for(y=S/b,s=i;s<m;s++)l[s][c]+=y*l[s][i]}for(c=i;c<m;c++)l[c][i]=l[c][i]/Z}else for(c=i;c<m;c++)l[c][i]=0;l[i][i]+=1}for(n*=k,s=p-1;-1!==s;s+=-1)for(var M=0;M<o;M++){var z=!1;for(f=s;-1!==f;f+=-1){if(Math.abs(h[f])<=n){z=!0;break}if(Math.abs(d[f-1])<=n)break}if(!z){u=0,S=1;var E=f-1;for(i=f;i<s+1&&(y=S*h[i],h[i]=u*h[i],!(Math.abs(y)<=n));i++)for(b=x(y,Z=d[i]),d[i]=b,u=Z/b,S=-y/b,c=0;c<m;c++)j=l[c][E],w=l[c][i],l[c][E]=j*u+w*S,l[c][i]=-j*S+w*u}if(w=d[s],f===s){if(w<0)for(d[s]=-w,c=0;c<p;c++)v[c][s]=-v[c][s];break}for(console.assert(M<o-1,"Error: no convergence."),k=d[f],Z=x(y=(((j=d[s-1])-w)*(j+w)+((Z=h[s-1])-(b=h[s]))*(Z+b))/(2*b*j),1),y=y<0?((k-w)*(k+w)+b*(j/(y-Z)-b))/k:((k-w)*(k+w)+b*(j/(y+Z)-b))/k,u=1,S=1,i=f+1;i<s+1;i++){for(Z=h[i],j=d[i],b=S*Z,Z*=u,w=x(y,b),h[i-1]=w,y=k*(u=y/w)+Z*(S=b/w),Z=-k*S+Z*u,b=j*S,j*=u,c=0;c<p;c++)k=v[c][i-1],w=v[c][i],v[c][i-1]=k*u+w*S,v[c][i]=-k*S+w*u;for(w=x(y,b),d[i-1]=w,y=(u=y/w)*Z+(S=b/w)*j,k=-S*Z+u*j,c=0;c<m;c++)j=l[c][i-1],w=l[c][i],l[c][i-1]=j*u+w*S,l[c][i]=-j*S+w*u}h[f]=0,h[s]=y,d[s]=k}for(i=0;i<d.length;i++)d[i]<n&&(d[i]=0);for(i=0;i<p;i++)for(c=i-1;c>=0;c--)if(d[c]<d[i]){for(u=d[c],d[c]=d[i],d[i]=u,s=0;s<l.length;s++)e=l[s][i],l[s][i]=l[s][c],l[s][c]=e;for(s=0;s<v.length;s++)e=v[s][i],v[s][i]=v[s][c],v[s][c]=e;i=c}return{U:l,S:d,V:v}}(t),u=o.U,i=function(t){return g.w6H(t.length).map((function(e){return g.w6H(t.length).map((function(n){return e===n?t[e]:0}))}))}(o.S),c=o.V,s=n(t,c),f=n(u,i),l=function(t,e){return t.map((function(t){return t.map((function(t){return t<e?0:t}))}))}(a(s,f),1e-12),m=r(l.length,l[0].length);console.assert(function(t,e){return g.$Re(t,e).map((function(t){return g.$Re(t[0],t[1]).map((function(t){return t[0]===t[1]}))})).map((function(t){return t.reduce((function(t,e){return t*e}))})).reduce((function(t,e){return t*e}))}(l,m),"svd and eig ways must be the same.");for(var p=[],h=0;h<e;h++)p.push(h);for(var d in o.S)for(h=0;h<e;h++)if(o.S[d]>=o.S[p[h]]){p[h]=parseInt(d);break}return[f,c,p,i]}},C=[],_={title:{text:"",pad:0},margin:{t:10,l:50,b:50,r:10}},T=2,q=function(t){var e=t.data,n=void 0===e?C:e,a=t.getArr,u=t.getName,i=t.dimensionKeys,c=(t.mode,(0,y.useState)(C)),s=(0,o.Z)(c,2),f=s[0],l=s[1],m=(0,y.useState)(_),p=(0,o.Z)(m,2),h=p[0],d=p[1],v=(0,y.useTransition)(),x=(0,o.Z)(v,2),k=(x[0],x[1]);return(0,y.useEffect)((function(){k((function(){try{var t=[],e=[];n.forEach((function(n,r){e[r]=[],a(n).forEach((function(n){var a=i.map((function(t){return+n[t]}));e[r].push(t.length),t.push(a)}))}));var c=function(t,e){var n=new R,r=n.scale(t,!0,!0),a=n.pca(r,T),u=a[0],i=a[1],c=a[2],s=a[3];console.log(i);var f=t.map((function(t,e){var n=(0,g.w6H)(0,T).map((function(t){return u[e][c[t]]}));return n.data=t,n})),l=(0,g.Wem)(f,(function(t){return t[0]})),m=(0,g.Wem)(f,(function(t){return t[1]})),p=[0,0],h=[[0,-1/0],[0,-1/0]],d=e.map((function(t,e){var n=[p,(0,g.w6H)(0,T).map((function(t){return i[e][c[t]]}))];return h.forEach((function(t,r){var a=(0,o.Z)(t,2),u=(a[0],a[1]),i=Math.abs(n[1][r]-n[0][r]);i>u&&(h[r]=[e,i])})),n.name=t,n}));d[h[0][0]].pc1=!0,d[h[1][0]].pc2=!0;var v=Math.sqrt((0,g.Fp7)([V(p,[l[0],m[0]]),V(p,[l[0],m[1]]),V(p,[l[1],m[0]]),V(p,[l[1],m[1]])])/(0,g.Fp7)(d,(function(t){return V(p,[t[1][0],t[1][1]])})));d.forEach((function(t){t[1][0]=t[1][0]*v,t[1][1]=t[1][1]*v}));var x=(0,g.Smz)(s,(function(t,e){return t[e]}));var y=(0,g.w6H)(0,T).map((function(t){return s[c[t]][c[t]]/x}));return{solution:f,feature:d,contribute:y}}(t,i),s=c.solution,f=c.feature,m=c.contribute,p=n.map((function(t,n){return{type:"scatters",mode:"markers",name:u(t),x:e[n].map((function(t){return s[t][0]})),y:e[n].map((function(t){return s[t][1]}))}}));l(p);var h=(0,r.Z)((0,r.Z)({},_),{},{xaxis:{title:{text:"PC1 (".concat(Math.round(1e3*m[0])/10,"%)")}},yaxis:{title:{text:"PC2 (".concat(Math.round(1e3*m[1])/10,"%)")}}});h.shapes=f.map((function(t){return{type:"line",x0:t[0][0],y0:t[0][1],x1:t[1][0],y1:t[1][1]}})),h.annotations=f.map((function(t){return{x:t[1][0],y:t[1][1],text:t.name,xanchor:"center",yanchor:"bottom",font:{color:t.pc1||t.pc2?"red":"unset"}}})),d(h)}catch(v){l([])}}))}),[i,n]),(0,b.jsx)(Z.Z,{data:f,style:{width:"100%",height:"100%"},layout:h,useResizeHandler:!0})};function V(t,e){return Math.sqrt((t[1]-e[1])*(t[1]-e[1])+(t[0]-e[0])*(t[0]-e[0]))}var $=[],W={title:{text:"",pad:0},margin:{t:10,l:50,b:50,r:10}},F=2,U=function(t){var e=t.data,n=void 0===e?$:e,a=t.getArr,u=t.getName,i=t.dimensionKeys,c=(t.mode,(0,y.useState)($)),s=(0,o.Z)(c,2),f=s[0],l=s[1],m=(0,y.useState)(W),p=(0,o.Z)(m,2),h=p[0],d=p[1],v=(0,y.useTransition)(),x=(0,o.Z)(v,2),k=(x[0],x[1]);return(0,y.useEffect)((function(){k((function(){try{var t=n.map((function(t){return u(t)})),e=(0,g.VV$)(n,(function(t){return a(t).length})),c=[];n.forEach((function(t,n){for(var r=a(t),o=function(){var t=r[u],e=i.map((function(e){return+t[e]}));c.push(e)},u=0;u<e;u++)o()}));var s=function(t,e,n,r){for(var a=new R,u=a.scale(t,!0,!0),i=[],c=function(t){for(var e=function(e){i[t*r+e]=n.map((function(n,a){return u[a*r+e][t]}))},a=0;a<r;a++)e(a)},s=0;s<e.length;s++)c(s);var f=a.pca(i,F),l=f[0],m=f[1],p=f[2],h=f[3];console.log(m);var d=i.map((function(t,e){return(0,g.w6H)(0,F).map((function(t){return l[e][p[t]]}))})),v=(0,g.Wem)(d,(function(t){return t[0]})),x=(0,g.Wem)(d,(function(t){return t[1]})),y=[0,0],Z=[[0,-1/0],[0,-1/0]],b=n.map((function(t,e){var n=[y,(0,g.w6H)(0,F).map((function(t){return m[e][p[t]]}))];return Z.forEach((function(t,r){var a=(0,o.Z)(t,2),u=(a[0],a[1]),i=Math.abs(n[1][r]-n[0][r]);i>u&&(Z[r]=[e,i])})),n.name=t,n}));b[Z[0][0]].pc1=!0,b[Z[1][0]].pc2=!0;var k=Math.sqrt((0,g.Fp7)([D(y,[v[0],x[0]]),D(y,[v[0],x[1]]),D(y,[v[1],x[0]]),D(y,[v[1],x[1]])])/(0,g.Fp7)(b,(function(t){return D(y,[t[1][0],t[1][1]])})));b.forEach((function(t){t[1][0]=t[1][0]*k,t[1][1]=t[1][1]*k}));var j=(0,g.Smz)(h,(function(t,e){return t[e]}));var w=(0,g.w6H)(0,F).map((function(t){return h[p[t]][p[t]]/j}));return{solution:d,feature:b,contribute:w}}(c,i,t,e),f=s.solution,m=s.feature,p=s.contribute,h=(0,g.w6H)(0,e),v=i.map((function(t,n){return{type:"scatters",mode:"markers",name:t,x:h.map((function(t){return f[n*e+t][0]})),y:h.map((function(t){return f[n*e+t][1]}))}}));l(v);var x=(0,r.Z)((0,r.Z)({},W),{},{xaxis:{title:{text:"PC1 (".concat(Math.round(1e3*p[0])/10,"%)")}},yaxis:{title:{text:"PC2 (".concat(Math.round(1e3*p[1])/10,"%)")}}});x.shapes=m.map((function(t){return{type:"line",x0:t[0][0],y0:t[0][1],x1:t[1][0],y1:t[1][1]}})),x.annotations=m.map((function(t){return{x:t[1][0],y:t[1][1],text:t.name,xanchor:"center",yanchor:"bottom",font:{color:t.pc1||t.pc2?"red":"unset"}}})),d(x)}catch(y){l([])}}))}),[i,n]),(0,b.jsx)(Z.Z,{data:f,style:{width:"100%",height:"100%"},layout:h,useResizeHandler:!0})};function D(t,e){return Math.sqrt((t[1]-e[1])*(t[1]-e[1])+(t[0]-e[0])*(t[0]-e[0]))}var L=[],O={title:{text:"",pad:0},margin:{t:10,r:10},xaxis:{ticks:"",tickfont:{size:8}},yaxis:{ticks:"",ticksuffix:" ",tickfont:{size:8}}},I=function(t){var e=t.data,n=void 0===e?L:e,a=t.getArr,u=t.getName,i=t.dimensionKey,c=(0,y.useState)(L),s=(0,o.Z)(c,2),f=s[0],l=s[1],m=(0,y.useState)(O),p=(0,o.Z)(m,2),h=p[0],d=p[1],v=(0,y.useTransition)(),x=(0,o.Z)(v,2),g=(x[0],x[1]);return(0,y.useEffect)((function(){g((function(){try{var t=[],e=n.map((function(e,n){return t.push(u(e)),a(e).map((function(t){return+t[i]}))})),o=[],c=t.map((function(e){return t.map((function(t){return null}))}));c[t.length-1][t.length-1]=1;for(var s=0;s<t.length-1;s++){c[s][s]=1;for(var f=s+1;f<t.length;f++){var m=e[s].length<e[f].length?G(e[s],e[f]):G(e[f],e[s]);c[s][f]=Math.abs(m),c[f][s]=c[s][f],c[s][f],o.push({xref:"x1",yref:"y1",x:t[f],y:t[s],text:Math.round(100*m)/100,font:{color:"white"},showarrow:!1})}}l([{type:"heatmap",name:i,x:t,y:t,z:c,zauto:!1,zmin:0,zmax:1,hoverongaps:!1,showscale:!1}]);var p=(0,r.Z)((0,r.Z)({},O),{},{annotations:o});d(p)}catch(h){l([])}}))}),[i,n]),(0,b.jsx)(Z.Z,{data:f,style:{width:"100%",height:"100%"},layout:h,useResizeHandler:!0})};function G(t,e){var n=Math.min,r=Math.pow,a=Math.sqrt,u=function(t,e){return t+e},i=n(t.length,e.length);if(0===i)return 0;var c=[t.slice(0,i),e.slice(0,i)],s=[t=c[0],e=c[1]].map((function(t){return t.reduce(u)})),f=(0,o.Z)(s,2),l=f[0],m=f[1],p=[t,e].map((function(t){return t.reduce((function(t,e){return t+r(e,2)}),0)})),h=(0,o.Z)(p,2),d=h[0],v=h[1],x=t.map((function(t,n){return t*e[n]})).reduce(u),y=a((d-r(l,2)/i)*(v-r(m,2)/i));return 0===y?0:(x-l*m/i)/y}var J=[],X={title:{text:"",pad:0},margin:{t:10,l:50,b:20,r:30},height:150,violinmode:"group"},B=function(t){var e=t.data,n=void 0===e?J:e,a=t.getArr,u=t.getName,i=t.dimensionKeys,c=t.domain,s=(0,y.useTransition)(),f=(0,o.Z)(s,2),l=(f[0],f[1]),m=(0,y.useState)(J),p=(0,o.Z)(m,2),h=p[0],d=p[1],v=(0,y.useState)([]),x=(0,o.Z)(v,2),k=x[0],j=x[1];(0,y.useEffect)((function(){l((function(){var t=[],e={};i.forEach((function(t){e[t]=[]})),j([(0,g.VV$)(i,(function(t){return c[t][0]})),(0,g.Fp7)(i,(function(t){return c[t][1]}))]),n.map((function(n){var r=u(n);a(n).forEach((function(n){t.push(r),i.forEach((function(t,r){e[t].push(n[t])}))}))}));var r=i.map((function(n){return{type:"violin",x:t,y:e[n],legendgroup:n,scalegroup:n,name:n,points:"none",box:{visible:!0},meanline:{visible:!0}}}));d(r)}))}));var w=(0,r.Z)((0,r.Z)({},X),{},{yaxis:{autorange:!1,range:k}});return(0,b.jsx)(Z.Z,{data:h,style:{width:"100%",height:"100%"},layout:w,useResizeHandler:!0})},Q={power_usage:"Power Usage (W)",index:"Sample",voltage:"Voltage (mV)",edge_temperature:"Edge Temp ('C)",memory_temperature:"Mem Temp ('C)",juntion_temperature:"Junction Temp ('C)",sclk:"GPU Frequency (MHz)",gpu_usage:"GPU Usage (%)",memory_usage:"Mem Usage (%)"},Y=function(){var t=(0,u.v9)(i.hp),e=(0,y.useState)(!1),n=(0,o.Z)(e,2),Z=n[0],k=n[1],j=(0,y.useState)([]),S=(0,o.Z)(j,2),M=S[0],E=S[1],K=(0,y.useState)([]),H=(0,o.Z)(K,2),P=H[0],R=H[1],C=(0,y.useState)({}),_=(0,o.Z)(C,2),T=_[0],V=_[1],$=(0,y.useState)("lines"),W=(0,o.Z)($,2),F=W[0],D=W[1],L=(0,y.useState)([]),O=(0,o.Z)(L,2),G=(O[0],O[1],(0,y.useState)([{label:"x",key:"index"},{label:"y",key:"voltage"},{label:"z",key:null,is3D:!0},{label:"color",key:null},{label:"dim",key:[],is3D:!0}])),J=(0,o.Z)(G,2),X=J[0],Y=J[1];(0,y.useEffect)((function(){var e=function(t,e){var n=t?"Profile":"AppName",r=t?"AppName":"Profile",a=(0,g.Xxj)(e,(function(t){return t[n]})),u={},i=[],c=a.map((function(t){var e=(0,o.Z)(t,2),n=e[0],a=e[1],c=Object.keys(u).map((function(t){return[t,[]]}));return a.forEach((function(t){void 0===u[t[r]]&&(u[t[r]]=c.length,c[u[t[r]]]=[t[r],[]]),c[u[t[r]]][1].push(t),i.push(t.data)})),[n,c]}));return E(c),{flatdata:i}}(Z,t),n=e.flatdata,r={};if(t[0]&&t[0].data&&t[0].data[0]){var a=Object.keys(t[0].data[0]);a.forEach((function(t){r[t]=[1/0,-1/0];var e=n.map((function(e){return(0,g.Wem)(e,(function(e){return+e[t]}))}));r[t]=[(0,g.VV$)(e,(function(t){return t[0]})),(0,g.Fp7)(e,(function(t){return t[1]}))],Q[t]&&(r[t].label=Q[t])})),R(a)}else R([]);V(r)}),[Z,t]);var tt=function(t,e){X[t].key=e,Y((0,a.Z)(X))},et="markers"===F||"lines2"===F||"violin"===F||"lines"===F||"Splom"===F,nt=function(t){var e=(0,o.Z)(t,2),n=e[0],r=e[1];switch(F){case"markers":case"lines":return(0,b.jsx)(l.ZP,{container:!0,children:r.map((function(t,e){var r,a=(0,o.Z)(t,2),u=a[0],i=a[1];return(0,b.jsxs)(l.ZP,{item:!0,xs:4,sx:{height:200,mb:3,paddingTop:2},children:[(0,b.jsx)(m.Z,{variant:"h5",textAlign:"center",children:u}),i[0]&&(0,b.jsx)(w,{data:null===(r=i[0])||void 0===r?void 0:r.data,xKey:X[0].key,yKey:X[1].key,domain:T,cKey:X[3].key,colorDomain:T[X[3].key],getArr:function(t){var e=(0,o.Z)(t,2),n=(e[0],e[1]);return n[0]?n[0].data:[]},getName:function(t){var e=(0,o.Z)(t,2),n=e[0];e[1];return n},mode:F,showscale:2===e})]},"".concat(n," ").concat(u))}))});case"lines2":return(0,b.jsx)(z,{getArr:function(t){var e=(0,o.Z)(t,2),n=(e[0],e[1]);return n[0]?n[0].data:[]},getName:function(t){var e=(0,o.Z)(t,2),n=e[0];e[1];return n},data:r,xKey:X[0].key,yKey:X[1].key,domain:T});case"violin":return(0,b.jsx)(B,{getArr:function(t){var e=(0,o.Z)(t,2),n=(e[0],e[1]);return n[0]?n[0].data:[]},getName:function(t){var e=(0,o.Z)(t,2),n=e[0];e[1];return n},domain:T,data:r,dimensionKeys:X[4].key});case"Splom":return(0,b.jsx)(N,{getArr:function(t){var e=(0,o.Z)(t,2),n=(e[0],e[1]);return n[0]?n[0].data:[]},getName:function(t){var e=(0,o.Z)(t,2),n=e[0];e[1];return n},data:r,dimensionKeys:X[4].key});case"pca":return(0,b.jsx)(q,{getArr:function(t){var e=(0,o.Z)(t,2),n=(e[0],e[1]);return n[0]?n[0].data:[]},getName:function(t){var e=(0,o.Z)(t,2),n=e[0];e[1];return n},data:r,dimensionKeys:X[4].key});case"pca_2":return(0,b.jsx)(U,{getArr:function(t){var e=(0,o.Z)(t,2),n=(e[0],e[1]);return n[0]?n[0].data:[]},getName:function(t){var e=(0,o.Z)(t,2),n=e[0];e[1];return n},data:r,dimensionKeys:X[4].key});case"sim":return(0,b.jsx)(l.ZP,{container:!0,children:X[4].key.map((function(t){return(0,b.jsxs)(l.ZP,{item:!0,xs:X[4].key.length>1?6:12,sx:{height:200,mb:3},children:[(0,b.jsx)(m.Z,{variant:"h5",textAlign:"center",children:t}),(0,b.jsx)(I,{getArr:function(t){var e=(0,o.Z)(t,2),n=(e[0],e[1]);return n[0]?n[0].data:[]},getName:function(t){var e=(0,o.Z)(t,2),n=e[0];e[1];return n},data:r,dimensionKey:t})]},t)}))});case"Ribbon":return(0,b.jsx)(A,{getArr:function(t){var e=(0,o.Z)(t,2),n=(e[0],e[1]);return n[0]?n[0].data:[]},getName:function(t){var e=(0,o.Z)(t,2),n=e[0];e[1];return n},data:r,xKey:X[0].key,yKey:X[1].key,zKey:X[2].key,cKey:X[3].key});default:return(0,b.jsx)(b.Fragment,{children:"Not support yet"})}};return(0,b.jsxs)(l.ZP,{container:!0,spacing:c.dv,children:[(0,b.jsx)(l.ZP,{item:!0,xs:12,children:(0,b.jsxs)(p.Z,{spacing:2,direction:"row",children:[(0,b.jsxs)(f.Z,{select:!0,label:"Plot type",size:"small",sx:{minWidth:200},value:F,onChange:function(t){return D(t.target.value)},children:[(0,b.jsx)(h.Z,{value:"markers",children:"Scatter plot"}),(0,b.jsx)(h.Z,{value:"lines",children:"Line chart"}),(0,b.jsx)(h.Z,{value:"lines2",children:"Line chart (combine)"}),(0,b.jsx)(h.Z,{value:"violin",children:"Violin chart (combine)"}),(0,b.jsx)(h.Z,{value:"Ribbon",children:"3D scatter plot"}),(0,b.jsx)(h.Z,{value:"Splom",children:"Splom"}),(0,b.jsx)(h.Z,{value:"pca",children:"PCA"}),(0,b.jsx)(h.Z,{value:"pca_2",children:"PCA 2"}),(0,b.jsx)(h.Z,{value:"sim",children:"Similarity matrix"})]}),(0,b.jsx)(d.Z,{value:"app_profile",selected:Z,color:"primary",onChange:function(){return k(!Z)},children:"Swap App and Profile"}),function(){switch(F){case"markers":case"lines":return X.map((function(t,e){return(0,b.jsx)(s.Z,{value:t.key,getOptionLabel:function(t){return t},size:"small",sx:{minWidth:200,display:t.is3D?"none":void 0},options:P,onChange:function(t,n){return tt(e,n)},renderInput:function(e){return(0,b.jsx)(f.Z,(0,r.Z)((0,r.Z)({},e),{},{label:t.label}))}},t.label)}));case"violin":case"Splom":case"pca":case"pca_2":case"sim":return(0,b.jsx)(s.Z,{value:X[4].key,multiple:!0,getOptionLabel:function(t){return t},size:"small",options:P,onChange:function(t,e){return tt(4,e)},renderInput:function(t){return(0,b.jsx)(f.Z,(0,r.Z)((0,r.Z)({},t),{},{label:X[4].label}))}});default:return X.map((function(t,e){return(0,b.jsx)(s.Z,{value:t.key,size:"small",getOptionLabel:function(t){return t},sx:{minWidth:200,display:"color"===t.label?"none":void 0},options:P,onChange:function(t,n){return tt(e,n)},renderInput:function(e){return(0,b.jsx)(f.Z,(0,r.Z)((0,r.Z)({},e),{},{label:t.label}))}},t.label)}))}}()]})}),M.map((function(t){var e=(0,o.Z)(t,2),n=e[0],r=e[1];return(0,b.jsx)(l.ZP,{item:!0,xs:et?12:6,children:(0,b.jsx)(v.Z,{children:(0,b.jsxs)(x.Z,{sx:{p:2,pl:2},children:[(0,b.jsx)(m.Z,{variant:"h3",children:n}),nt([n,r])]})})},n)}))]})}}}]);
//# sourceMappingURL=331.dd79b7ba.chunk.js.map