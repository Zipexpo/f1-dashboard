"use strict";(self.webpackChunkapp_perform_dashboard=self.webpackChunkapp_perform_dashboard||[]).push([[340],{4340:function(e,t,a){a.r(t),a.d(t,{default:function(){return A}});var n=a(1413),r=a(3433),i=a(9439),s=a(9434),l=a(5739),u=a(1923),c=a(1889),o=a(3767),d=a(9218),p=a(3786),x=a(6846),h=a(7621),y=a(4554),f=a(890),m=a(2791),Z=a(9071),v=a(8286),k=a(184),j=[],b={title:{text:"",pad:0},margin:{t:10,l:50,b:20,r:10}},g=function(e){var t=e.data,a=void 0===t?j:t,n=e.xKey,r=e.yKey,s=e.cKey,l=e.mode,u=void 0===l?"line":l,c=(0,m.useState)(j),o=(0,i.Z)(c,2),d=o[0],p=o[1],x=(0,m.useState)([]),h=(0,i.Z)(x,2),y=h[0],f=h[1];(0,m.useEffect)((function(){var e=[],t=[];a.forEach((function(a){e.push(a[n]),t.push(a[r])})),p({x:e,y:t})}),[n,r,a]),(0,m.useEffect)((function(){f("markers"===u&&s?a.map((function(e){return e[s]})):[])}),[a,s,u]);var Z=[{x:d.x,y:d.y,type:"scatter",colorscale:"Portland",mode:u}];return y.length&&(Z[0].marker={color:y}),(0,k.jsx)(v.Z,{data:Z,style:{width:"100%",height:"100%"},layout:b,useResizeHandler:!0})},K=[],z={title:{text:"",pad:0},margin:{t:10,l:50,b:20,r:10}},P=function(e){var t=e.data,a=void 0===t?K:t,r=e.getArr,s=e.getName,l=e.xKey,u=e.yKey,c=e.zKey,o=(e.mode,(0,m.useState)(K)),d=(0,i.Z)(o,2),p=d[0],x=d[1];(0,m.useEffect)((function(){var e=a.map((function(e){var t=[],a=[],n=[];return r(e).forEach((function(e){t.push(e[l]),a.push(e[u]),n.push(e[c])})),{name:s(e),x:t,y:a,z:n}}));x(e)}),[l,u,c,a]);var h=(0,m.useMemo)((function(){return p.map((function(e){return(0,n.Z)((0,n.Z)({},e),{},{type:"scatter3d",colorscale:"Portland",mode:"markers",marker:{size:3}})}))}),[p]);return(0,k.jsx)(v.Z,{data:h,style:{width:"100%",height:"100%"},layout:(0,n.Z)((0,n.Z)({},z),{},{scene:{xaxis:{title:{text:l}},yaxis:{title:{text:u}},zaxis:{title:{text:c}}}}),useResizeHandler:!0})},A=function(){var e=(0,s.v9)(l.hp),t=(0,m.useState)([]),a=(0,i.Z)(t,2),v=a[0],j=a[1],b=(0,m.useState)([]),K=(0,i.Z)(b,2),z=K[0],A=K[1],S=(0,m.useState)("lines"),E=(0,i.Z)(S,2),N=E[0],w=E[1],C=(0,m.useState)([]),R=(0,i.Z)(C,2),_=(R[0],R[1],(0,m.useState)([{label:"x",key:"index"},{label:"y",key:"voltage"},{label:"z",key:null,is3D:!0},{label:"color",key:null}])),D=(0,i.Z)(_,2),H=D[0],O=D[1];(0,m.useEffect)((function(){var t=(0,Z.Xxj)(e,(function(e){return e.Profile})),a={},n=t.map((function(e){var t=(0,i.Z)(e,2),n=t[0],r=t[1],s=Object.keys(a).map((function(e){return[e,[]]}));return r.forEach((function(e){void 0===a[e.AppName]&&(a[e.AppName]=s.length,s[a[e.AppName]]=[e.AppName,[]]),s[a[e.AppName]][1].push(e)})),[n,s]}));j(n),e[0]&&e[0].data&&e[0].data[0]?A(Object.keys(e[0].data[0])):A([])}),[e]);var W="markers"===N||"lines"===N;return(0,k.jsxs)(c.ZP,{container:!0,spacing:u.dv,children:[(0,k.jsx)(c.ZP,{item:!0,xs:12,children:(0,k.jsxs)(o.Z,{spacing:2,direction:"row",children:[(0,k.jsxs)(d.Z,{select:!0,label:"Plot type",size:"small",sx:{minWidth:200},value:N,onChange:function(e){return w(e.target.value)},children:[(0,k.jsx)(p.Z,{value:"markers",children:"Scatter plot"}),(0,k.jsx)(p.Z,{value:"lines",children:"Line chart"}),(0,k.jsx)(p.Z,{value:"Ribbon",children:"3D scatter plot"}),(0,k.jsx)(p.Z,{value:"pca",children:"PCA"})]}),H.map((function(e,t){return(0,k.jsx)(x.Z,{value:e.key,size:"small",sx:{minWidth:200,display:e.is3D&&W?"none":void 0},options:z,onChange:function(e,a){return n=a,H[t].key=n,void O((0,r.Z)(H));var n},renderInput:function(t){return(0,k.jsx)(d.Z,(0,n.Z)((0,n.Z)({},t),{},{label:e.label}))}},e.label)}))]})}),v.map((function(e){var t=(0,i.Z)(e,2),a=t[0],n=t[1];return(0,k.jsx)(c.ZP,{item:!0,xs:W?12:6,children:(0,k.jsx)(h.Z,{children:(0,k.jsxs)(y.Z,{sx:{p:2,pl:2},children:[(0,k.jsx)(f.Z,{variant:"h3",children:a}),W&&(0,k.jsx)(c.ZP,{container:!0,children:n.map((function(e){var t,n=(0,i.Z)(e,2),r=n[0],s=n[1];return(0,k.jsxs)(c.ZP,{item:!0,xs:4,sx:{height:200,mb:3},children:[(0,k.jsx)(f.Z,{variant:"h5",textAlign:"center",children:r}),s[0]&&(0,k.jsx)(g,{data:null===(t=s[0])||void 0===t?void 0:t.data,xKey:H[0].key,yKey:H[1].key,cKey:H[3].key,mode:N})]},"".concat(a," ").concat(r))}))}),"Ribbon"===N&&(0,k.jsx)(P,{getArr:function(e){var t=(0,i.Z)(e,2),a=(t[0],t[1]);return a[0]?a[0].data:[]},getName:function(e){var t=(0,i.Z)(e,2),a=t[0];t[1];return a},data:n,mainKey:"data",xKey:H[0].key,yKey:H[1].key,zKey:H[2].key,cKey:H[3].key})]})})},a)}))]})}}}]);
//# sourceMappingURL=340.198c941b.chunk.js.map