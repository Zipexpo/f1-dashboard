"use strict";(self.webpackChunkapp_perform_dashboard=self.webpackChunkapp_perform_dashboard||[]).push([[331],{6331:function(e,t,n){n.r(t),n.d(t,{default:function(){return Y}});var r=n(1413),a=n(3433),o=n(9439),u=n(9434),i=n(5739),c=n(1923),s=n(6846),f=n(9218),l=n(1889),m=n(890),p=n(3767),d=n(3786),h=n(388),v=n(7621),x=n(4554),y=n(2791),g=n(8452),Z=n(8286),b=n(184),k=[],j={title:{text:"",pad:0},margin:{t:10,l:50,b:30,r:30}},w=function(e){var t,n,a=e.data,u=void 0===a?k:a,i=e.xKey,c=e.domain,s=e.yKey,f=e.cKey,l=(e.getArr,e.getName,e.colorDomain),m=void 0===l?c:l,p=e.mode,d=void 0===p?"line":p,h=e.showscale,v=(0,y.useTransition)(),x=(0,o.Z)(v,2),g=(x[0],x[1]),w=(0,y.useState)(k),S=(0,o.Z)(w,2),M=S[0],z=S[1],E=(0,y.useState)([]),K=(0,o.Z)(E,2),A=K[0],H=K[1];(0,y.useEffect)((function(){g((function(){var e=[],t=[];u.forEach((function(n){e.push(n[i]),t.push(n[s])})),z({x:e,y:t})}))}),[i,s,u]),(0,y.useEffect)((function(){H("markers"===d&&f?u.map((function(e){return e[f]})):[])}),[u,f,d]);var N=[{x:M.x,y:M.y,type:"scatter",mode:d}];A.length&&(N[0].marker={color:A,colorscale:"Portland",colorbarTitleText:f,colorbarThickness:5,showscale:h,cmin:m[0],cmax:m[1]});var P=(0,r.Z)((0,r.Z)({},j),{},{yaxis:{title:"<b>".concat(null!==(t=c[s].label)&&void 0!==t?t:s,"</b>"),autorange:!1,range:c[s]},xaxis:{title:"<b>".concat(null!==(n=c[i].label)&&void 0!==n?n:i,"</b>")}});return(0,b.jsx)(Z.Z,{data:N,style:{width:"100%",height:"100%"},layout:P,useResizeHandler:!0})},S=[],M={title:{text:"",pad:0},margin:{t:10,l:50,b:20,r:30}},z=function(e){var t,n,a=e.data,u=void 0===a?S:a,i=e.getArr,c=e.getName,s=e.xKey,f=e.yKey,l=e.domain,m=(e.mode,e.showscale,(0,y.useTransition)()),p=(0,o.Z)(m,2),d=(p[0],p[1]),h=(0,y.useState)(S),v=(0,o.Z)(h,2),x=v[0],g=v[1],k=(0,y.useState)([]),j=(0,o.Z)(k,2);j[0],j[1];(0,y.useEffect)((function(){d((function(){var e=u.map((function(e){var t=[],n=[];return i(e).forEach((function(e){t.push(e[s]),n.push(e[f])})),{name:c(e),x:t,y:n,type:"scatter"}}));g(e)}))}),[s,f,u]);var w=(0,r.Z)((0,r.Z)({},M),{},{yaxis:{title:"<b>".concat(null!==(t=l[f].label)&&void 0!==t?t:f,"</b>")},xaxis:{title:"<b>".concat(null!==(n=l[s].label)&&void 0!==n?n:s,"</b>")}});return(0,b.jsx)(Z.Z,{data:x,style:{width:"100%",height:"100%"},layout:w,useResizeHandler:!0})},E=[],K={title:{text:"",pad:0},margin:{t:10,l:50,b:20,r:10}},A=function(e){var t=e.data,n=void 0===t?E:t,a=e.getArr,u=e.getName,i=e.xKey,c=e.yKey,s=e.zKey,f=(e.mode,(0,y.useState)(E)),l=(0,o.Z)(f,2),m=l[0],p=l[1];(0,y.useEffect)((function(){var e=n.map((function(e){var t=[],n=[],r=[];return a(e).forEach((function(e){t.push(e[i]),n.push(e[c]),r.push(e[s])})),{name:u(e),x:t,y:n,z:r}}));p(e)}),[i,c,s,n]);var d=(0,y.useMemo)((function(){return m.map((function(e){return(0,r.Z)((0,r.Z)({},e),{},{type:"scatter3d",colorscale:"Portland",mode:"markers",marker:{size:3}})}))}),[m]);return(0,b.jsx)(Z.Z,{data:d,style:{width:"100%",height:"100%"},layout:(0,r.Z)((0,r.Z)({},K),{},{scene:{xaxis:{title:{text:i}},yaxis:{title:{text:c}},zaxis:{title:{text:s}}}}),useResizeHandler:!0})},H=[],N={title:{text:"",pad:0},margin:{t:10,l:50,b:50,r:10},hovermode:"closest",dragmode:"select",plot_bgcolor:"rgba(240,240,240, 0.95)",grid:{roworder:"bottom to top"}},P=function(e){var t=e.data,n=void 0===t?H:t,a=e.getArr,u=e.getName,i=e.dimensionKeys,c=(e.mode,(0,y.useState)(H)),s=(0,o.Z)(c,2),f=s[0],l=s[1],m=(0,y.useState)(N),p=(0,o.Z)(m,2),d=p[0],h=p[1];(0,y.useEffect)((function(){var e=n.map((function(e){var t=i.map((function(e){return{label:e,values:[]}}));return a(e).forEach((function(e){t.forEach((function(t){t.values.push(e[t.label])}))})),{type:"splom",name:u(e),dimensions:t,marker:{size:5,line:{color:"white",width:.5}}}}));l(e)}),[i,n]),(0,y.useEffect)((function(){var e=(0,r.Z)({},N);i.forEach((function(t,n){e["xaxis".concat(n)]=v(),e["yaxis".concat(n)]=v()})),h(e)}),[i]);var v=function(){return{showline:!1,zeroline:!1,gridcolor:"#ffff",ticklen:4}};return(0,b.jsx)(Z.Z,{data:f,style:{width:"100%",height:"100%"},layout:d,useResizeHandler:!0})},R=function(){function e(e){return t(e).map((function(t){return g.Smz(t)/e.length}))}function t(e){return g.w6H(e[0].length).map((function(t){return e.map((function(e){return e[t]}))}))}function n(e,n){return e.map((function(e){return t(n).map((function(t){return g.Smz(g.$Re(e,t).map((function(e){return e[0]*e[1]})))}))}))}function r(e,t){return g.w6H(e).map((function(e){return g.w6H(t).map((function(){return 0}))}))}function a(e,t){return console.assert(e.length===t.length,"dim(x) == dim(y)"),g.$Re(e,t).map((function(e){return"number"===typeof e[0]?e[0]-e[1]:g.$Re(e[0],e[1]).map((function(e){return e[0]-e[1]}))}))}this.scale=function(t,n,r){if(n){var o=e(t);t=t.map((function(e){return a(e,o)}))}if(r){var u=function(t){e(t);return n=e(function(e,t){return g.$Re(e,t).map((function(e){return"number"===typeof e[0]?e[0]*e[1]:g.$Re(e[0],e[1]).map((function(e){return e[0]*e[1]}))}))}(t,t)),n.map((function(e){return Math.sqrt(e)}));var n}(t);t=t.map((function(e){return t=e,n=u,console.assert(t.length===n.length,"dim(x) == dim(y)"),g.$Re(t,n).map((function(e){return 0!==e[1]?e[0]/e[1]:0}));var t,n}))}return t},this.pca=function(e,t){var o=function(e){var t,n=Math.pow(2,-52),a=1e-64/n,o=50,u=0,i=0,c=0,s=0,f=0,l=e.map((function(e){return e.slice(0)})),m=l.length,p=l[0].length;console.assert(m>=p,"Need more rows than columns");var d=g.w6H(p).map((function(){return 0})),h=g.w6H(p).map((function(){return 0})),v=r(p,p);function x(e,t){return(e=Math.abs(e))>(t=Math.abs(t))?e*Math.sqrt(1+t*t/e/e):0===t?e:t*Math.sqrt(1+e*e/t/t)}var y=0,Z=0,b=0,k=0,j=0,w=0,S=0;for(i=0;i<p;i++){for(d[i]=Z,S=0,f=i+1,c=i;c<m;c++)S+=l[c][i]*l[c][i];if(S<=a)Z=0;else for(y=l[i][i],Z=Math.sqrt(S),y>=0&&(Z=-Z),b=y*Z-S,l[i][i]=y-Z,c=f;c<p;c++){for(S=0,s=i;s<m;s++)S+=l[s][i]*l[s][c];for(y=S/b,s=i;s<m;s++)l[s][c]+=y*l[s][i]}for(h[i]=Z,S=0,c=f;c<p;c++)S+=l[i][c]*l[i][c];if(S<=a)Z=0;else{for(y=l[i][i+1],Z=Math.sqrt(S),y>=0&&(Z=-Z),b=y*Z-S,l[i][i+1]=y-Z,c=f;c<p;c++)d[c]=l[i][c]/b;for(c=f;c<m;c++){for(S=0,s=f;s<p;s++)S+=l[c][s]*l[i][s];for(s=f;s<p;s++)l[c][s]+=S*d[s]}}(j=Math.abs(h[i])+Math.abs(d[i]))>k&&(k=j)}for(i=p-1;-1!==i;i+=-1){if(0!==Z){for(b=Z*l[i][i+1],c=f;c<p;c++)v[c][i]=l[i][c]/b;for(c=f;c<p;c++){for(S=0,s=f;s<p;s++)S+=l[i][s]*v[s][c];for(s=f;s<p;s++)v[s][c]+=S*v[s][i]}}for(c=f;c<p;c++)v[i][c]=0,v[c][i]=0;v[i][i]=1,Z=d[i],f=i}for(i=p-1;-1!==i;i+=-1){for(f=i+1,Z=h[i],c=f;c<p;c++)l[i][c]=0;if(0!==Z){for(b=l[i][i]*Z,c=f;c<p;c++){for(S=0,s=f;s<m;s++)S+=l[s][i]*l[s][c];for(y=S/b,s=i;s<m;s++)l[s][c]+=y*l[s][i]}for(c=i;c<m;c++)l[c][i]=l[c][i]/Z}else for(c=i;c<m;c++)l[c][i]=0;l[i][i]+=1}for(n*=k,s=p-1;-1!==s;s+=-1)for(var M=0;M<o;M++){var z=!1;for(f=s;-1!==f;f+=-1){if(Math.abs(d[f])<=n){z=!0;break}if(Math.abs(h[f-1])<=n)break}if(!z){u=0,S=1;var E=f-1;for(i=f;i<s+1&&(y=S*d[i],d[i]=u*d[i],!(Math.abs(y)<=n));i++)for(b=x(y,Z=h[i]),h[i]=b,u=Z/b,S=-y/b,c=0;c<m;c++)j=l[c][E],w=l[c][i],l[c][E]=j*u+w*S,l[c][i]=-j*S+w*u}if(w=h[s],f===s){if(w<0)for(h[s]=-w,c=0;c<p;c++)v[c][s]=-v[c][s];break}for(console.assert(M<o-1,"Error: no convergence."),k=h[f],Z=x(y=(((j=h[s-1])-w)*(j+w)+((Z=d[s-1])-(b=d[s]))*(Z+b))/(2*b*j),1),y=y<0?((k-w)*(k+w)+b*(j/(y-Z)-b))/k:((k-w)*(k+w)+b*(j/(y+Z)-b))/k,u=1,S=1,i=f+1;i<s+1;i++){for(Z=d[i],j=h[i],b=S*Z,Z*=u,w=x(y,b),d[i-1]=w,y=k*(u=y/w)+Z*(S=b/w),Z=-k*S+Z*u,b=j*S,j*=u,c=0;c<p;c++)k=v[c][i-1],w=v[c][i],v[c][i-1]=k*u+w*S,v[c][i]=-k*S+w*u;for(w=x(y,b),h[i-1]=w,y=(u=y/w)*Z+(S=b/w)*j,k=-S*Z+u*j,c=0;c<m;c++)j=l[c][i-1],w=l[c][i],l[c][i-1]=j*u+w*S,l[c][i]=-j*S+w*u}d[f]=0,d[s]=y,h[s]=k}for(i=0;i<h.length;i++)h[i]<n&&(h[i]=0);for(i=0;i<p;i++)for(c=i-1;c>=0;c--)if(h[c]<h[i]){for(u=h[c],h[c]=h[i],h[i]=u,s=0;s<l.length;s++)t=l[s][i],l[s][i]=l[s][c],l[s][c]=t;for(s=0;s<v.length;s++)t=v[s][i],v[s][i]=v[s][c],v[s][c]=t;i=c}return{U:l,S:h,V:v}}(e),u=o.U,i=function(e){return g.w6H(e.length).map((function(t){return g.w6H(e.length).map((function(n){return t===n?e[t]:0}))}))}(o.S),c=o.V,s=n(e,c),f=n(u,i),l=function(e,t){return e.map((function(e){return e.map((function(e){return e<t?0:e}))}))}(a(s,f),1e-12),m=r(l.length,l[0].length);console.assert(function(e,t){return g.$Re(e,t).map((function(e){return g.$Re(e[0],e[1]).map((function(e){return e[0]===e[1]}))})).map((function(e){return e.reduce((function(e,t){return e*t}))})).reduce((function(e,t){return e*t}))}(l,m),"svd and eig ways must be the same.");for(var p=[],d=0;d<t;d++)p.push(d);for(var h in o.S)for(d=0;d<t;d++)if(o.S[h]>=o.S[p[d]]){p[d]=parseInt(h);break}return[f,c,p,i]}},C=[],_={title:{text:"",pad:0},margin:{t:10,l:50,b:50,r:10}},T=2,q=function(e){var t=e.data,n=void 0===t?C:t,a=e.getArr,u=e.getName,i=e.dimensionKeys,c=(e.mode,(0,y.useState)(C)),s=(0,o.Z)(c,2),f=s[0],l=s[1],m=(0,y.useState)(_),p=(0,o.Z)(m,2),d=p[0],h=p[1],v=(0,y.useTransition)(),x=(0,o.Z)(v,2),k=(x[0],x[1]);return(0,y.useEffect)((function(){k((function(){try{var e=[],t=[];n.forEach((function(n,r){t[r]=[],a(n).forEach((function(n){var a=i.map((function(e){return+n[e]}));t[r].push(e.length),e.push(a)}))}));var c=function(e,t){var n=new R,r=n.scale(e,!0,!0),a=n.pca(r,T),u=a[0],i=a[1],c=a[2],s=a[3];console.log(i);var f=e.map((function(e,t){var n=(0,g.w6H)(0,T).map((function(e){return u[t][c[e]]}));return n.data=e,n})),l=(0,g.Wem)(f,(function(e){return e[0]})),m=(0,g.Wem)(f,(function(e){return e[1]})),p=[0,0],d=[[0,-1/0],[0,-1/0]],h=t.map((function(e,t){var n=[p,(0,g.w6H)(0,T).map((function(e){return i[t][c[e]]}))];return d.forEach((function(e,r){var a=(0,o.Z)(e,2),u=(a[0],a[1]),i=Math.abs(n[1][r]-n[0][r]);i>u&&(d[r]=[t,i])})),n.name=e,n}));h[d[0][0]].pc1=!0,h[d[1][0]].pc2=!0;var v=Math.sqrt((0,g.Fp7)([V(p,[l[0],m[0]]),V(p,[l[0],m[1]]),V(p,[l[1],m[0]]),V(p,[l[1],m[1]])])/(0,g.Fp7)(h,(function(e){return V(p,[e[1][0],e[1][1]])})));h.forEach((function(e){e[1][0]=e[1][0]*v,e[1][1]=e[1][1]*v}));var x=(0,g.Smz)(s,(function(e,t){return e[t]}));var y=(0,g.w6H)(0,T).map((function(e){return s[c[e]][c[e]]/x}));return{solution:f,feature:h,contribute:y}}(e,i),s=c.solution,f=c.feature,m=c.contribute,p=n.map((function(e,n){return{type:"scatters",mode:"markers",name:u(e),x:t[n].map((function(e){return s[e][0]})),y:t[n].map((function(e){return s[e][1]}))}}));l(p);var d=(0,r.Z)((0,r.Z)({},_),{},{xaxis:{title:{text:"PC1 (".concat(Math.round(1e3*m[0])/10,"%)")}},yaxis:{title:{text:"PC2 (".concat(Math.round(1e3*m[1])/10,"%)")}}});d.shapes=f.map((function(e){return{type:"line",x0:e[0][0],y0:e[0][1],x1:e[1][0],y1:e[1][1]}})),d.annotations=f.map((function(e){return{x:e[1][0],y:e[1][1],text:e.name,xanchor:"center",yanchor:"bottom",font:{color:e.pc1||e.pc2?"red":"unset"}}})),h(d)}catch(v){l([])}}))}),[i,n]),(0,b.jsx)(Z.Z,{data:f,style:{width:"100%",height:"100%"},layout:d,useResizeHandler:!0})};function V(e,t){return Math.sqrt((e[1]-t[1])*(e[1]-t[1])+(e[0]-t[0])*(e[0]-t[0]))}var $=[],W={title:{text:"",pad:0},margin:{t:10,l:50,b:50,r:10}},F=2,U=function(e){var t=e.data,n=void 0===t?$:t,a=e.getArr,u=e.getName,i=e.dimensionKeys,c=(e.mode,(0,y.useState)($)),s=(0,o.Z)(c,2),f=s[0],l=s[1],m=(0,y.useState)(W),p=(0,o.Z)(m,2),d=p[0],h=p[1],v=(0,y.useTransition)(),x=(0,o.Z)(v,2),k=(x[0],x[1]);return(0,y.useEffect)((function(){k((function(){try{var e=n.map((function(e){return u(e)})),t=(0,g.VV$)(n,(function(e){return a(e).length})),c=[];n.forEach((function(e,n){for(var r=a(e),o=function(){var e=r[u],t=i.map((function(t){return+e[t]}));c.push(t)},u=0;u<t;u++)o()}));var s=function(e,t,n,r){for(var a=new R,u=a.scale(e,!0,!0),i=[],c=function(e){for(var t=function(t){i[e*r+t]=n.map((function(n,a){return u[a*r+t][e]}))},a=0;a<r;a++)t(a)},s=0;s<t.length;s++)c(s);var f=a.pca(i,F),l=f[0],m=f[1],p=f[2],d=f[3];console.log(m);var h=i.map((function(e,t){return(0,g.w6H)(0,F).map((function(e){return l[t][p[e]]}))})),v=(0,g.Wem)(h,(function(e){return e[0]})),x=(0,g.Wem)(h,(function(e){return e[1]})),y=[0,0],Z=[[0,-1/0],[0,-1/0]],b=n.map((function(e,t){var n=[y,(0,g.w6H)(0,F).map((function(e){return m[t][p[e]]}))];return Z.forEach((function(e,r){var a=(0,o.Z)(e,2),u=(a[0],a[1]),i=Math.abs(n[1][r]-n[0][r]);i>u&&(Z[r]=[t,i])})),n.name=e,n}));b[Z[0][0]].pc1=!0,b[Z[1][0]].pc2=!0;var k=Math.sqrt((0,g.Fp7)([D(y,[v[0],x[0]]),D(y,[v[0],x[1]]),D(y,[v[1],x[0]]),D(y,[v[1],x[1]])])/(0,g.Fp7)(b,(function(e){return D(y,[e[1][0],e[1][1]])})));b.forEach((function(e){e[1][0]=e[1][0]*k,e[1][1]=e[1][1]*k}));var j=(0,g.Smz)(d,(function(e,t){return e[t]}));var w=(0,g.w6H)(0,F).map((function(e){return d[p[e]][p[e]]/j}));return{solution:h,feature:b,contribute:w}}(c,i,e,t),f=s.solution,m=s.feature,p=s.contribute,d=(0,g.w6H)(0,t),v=i.map((function(e,n){return{type:"scatters",mode:"markers",name:e,x:d.map((function(e){return f[n*t+e][0]})),y:d.map((function(e){return f[n*t+e][1]}))}}));l(v);var x=(0,r.Z)((0,r.Z)({},W),{},{xaxis:{title:{text:"PC1 (".concat(Math.round(1e3*p[0])/10,"%)")}},yaxis:{title:{text:"PC2 (".concat(Math.round(1e3*p[1])/10,"%)")}}});x.shapes=m.map((function(e){return{type:"line",x0:e[0][0],y0:e[0][1],x1:e[1][0],y1:e[1][1]}})),x.annotations=m.map((function(e){return{x:e[1][0],y:e[1][1],text:e.name,xanchor:"center",yanchor:"bottom",font:{color:e.pc1||e.pc2?"red":"unset"}}})),h(x)}catch(y){l([])}}))}),[i,n]),(0,b.jsx)(Z.Z,{data:f,style:{width:"100%",height:"100%"},layout:d,useResizeHandler:!0})};function D(e,t){return Math.sqrt((e[1]-t[1])*(e[1]-t[1])+(e[0]-t[0])*(e[0]-t[0]))}var L=[],O={title:{text:"",pad:0},margin:{t:10,r:10},xaxis:{ticks:"",tickfont:{size:8}},yaxis:{ticks:"",ticksuffix:" ",tickfont:{size:8}}},I=function(e){var t=e.data,n=void 0===t?L:t,a=e.getArr,u=e.getName,i=e.dimensionKey,c=(0,y.useState)(L),s=(0,o.Z)(c,2),f=s[0],l=s[1],m=(0,y.useState)(O),p=(0,o.Z)(m,2),d=p[0],h=p[1],v=(0,y.useTransition)(),x=(0,o.Z)(v,2),g=(x[0],x[1]);return(0,y.useEffect)((function(){g((function(){try{var e=[],t=n.map((function(t,n){return e.push(u(t)),a(t).map((function(e){return+e[i]}))})),o=[],c=e.map((function(t){return e.map((function(e){return null}))}));c[e.length-1][e.length-1]=1;for(var s=0;s<e.length-1;s++){c[s][s]=1;for(var f=s+1;f<e.length;f++){var m=t[s].length<t[f].length?G(t[s],t[f]):G(t[f],t[s]);c[s][f]=Math.abs(m),c[f][s]=c[s][f],c[s][f],o.push({xref:"x1",yref:"y1",x:e[f],y:e[s],text:Math.round(100*m)/100,font:{color:"white"},showarrow:!1})}}l([{type:"heatmap",name:i,x:e,y:e,z:c,zauto:!1,zmin:0,zmax:1,hoverongaps:!1,showscale:!1}]);var p=(0,r.Z)((0,r.Z)({},O),{},{annotations:o});h(p)}catch(d){l([])}}))}),[i,n]),(0,b.jsx)(Z.Z,{data:f,style:{width:"100%",height:"100%"},layout:d,useResizeHandler:!0})};function G(e,t){var n=Math.min,r=Math.pow,a=Math.sqrt,u=function(e,t){return e+t},i=n(e.length,t.length);if(0===i)return 0;var c=[e.slice(0,i),t.slice(0,i)],s=[e=c[0],t=c[1]].map((function(e){return e.reduce(u)})),f=(0,o.Z)(s,2),l=f[0],m=f[1],p=[e,t].map((function(e){return e.reduce((function(e,t){return e+r(t,2)}),0)})),d=(0,o.Z)(p,2),h=d[0],v=d[1],x=e.map((function(e,n){return e*t[n]})).reduce(u),y=a((h-r(l,2)/i)*(v-r(m,2)/i));return 0===y?0:(x-l*m/i)/y}var B=[],J={title:{text:"",pad:0},margin:{t:10,l:50,b:20,r:30},height:150,violinmode:"group",boxmode:"group"},X=function(e){var t=e.data,n=void 0===t?B:t,a=e.getArr,u=e.getName,i=e.dimensionKeys,c=e.domain,s=e.mode,f=void 0===s?"violin":s,l=(0,y.useTransition)(),m=(0,o.Z)(l,2),p=(m[0],m[1]),d=(0,y.useState)(B),h=(0,o.Z)(d,2),v=h[0],x=h[1],k=(0,y.useState)([]),j=(0,o.Z)(k,2),w=j[0],S=j[1];(0,y.useEffect)((function(){p((function(){var e=[],t={};i.forEach((function(e){t[e]=[]})),S([(0,g.VV$)(i,(function(e){return c[e][0]}))-3,(0,g.Fp7)(i,(function(e){return c[e][1]}))+3]),n.map((function(n){var r=u(n);a(n).forEach((function(n){e.push(r),i.forEach((function(e,r){t[e].push(n[e])}))}))}));var r=i.map((function(n){return{type:f,x:e,y:t[n],legendgroup:n,scalegroup:n,name:n,points:"none",box:{visible:!0},meanline:{visible:!0}}}));x(r)}))}),[n,i,f]);var M=(0,r.Z)((0,r.Z)({},J),{},{yaxis:{autorange:!1,range:w}});return(0,b.jsx)(Z.Z,{className:"violin_".concat(f),data:v,style:{width:"100%",height:"100%"},layout:M,useResizeHandler:!0})},Q={power_usage:"Power Usage (W)",index:"Sample",voltage:"Voltage (mV)",edge_temperature:"Edge Temp ('C)",memory_temperature:"Mem Temp ('C)",juntion_temperature:"Junction Temp ('C)",sclk:"GPU Frequency (MHz)",gpu_usage:"GPU Usage (%)",memory_usage:"Mem Usage (%)"},Y=function(){var e=(0,u.v9)(i.hp),t=(0,y.useState)(!1),n=(0,o.Z)(t,2),Z=n[0],k=n[1],j=(0,y.useState)([]),S=(0,o.Z)(j,2),M=S[0],E=S[1],K=(0,y.useState)([]),H=(0,o.Z)(K,2),N=H[0],R=H[1],C=(0,y.useState)({}),_=(0,o.Z)(C,2),T=_[0],V=_[1],$=(0,y.useState)("lines"),W=(0,o.Z)($,2),F=W[0],D=W[1],L=(0,y.useState)([]),O=(0,o.Z)(L,2),G=(O[0],O[1],(0,y.useState)([{label:"x",key:"index"},{label:"y",key:"voltage"},{label:"z",key:null,is3D:!0},{label:"color",key:null},{label:"dim",key:[],is3D:!0}])),B=(0,o.Z)(G,2),J=B[0],Y=B[1];(0,y.useEffect)((function(){var t=function(e,t){var n=e?"Profile":"AppName",r=e?"AppName":"Profile",a=(0,g.Xxj)(t,(function(e){return e[n]})),u={},i=[],c=a.map((function(e){var t=(0,o.Z)(e,2),n=t[0],a=t[1],c=Object.keys(u).map((function(e){return[e,[]]}));return a.forEach((function(e){void 0===u[e[r]]&&(u[e[r]]=c.length,c[u[e[r]]]=[e[r],[]]),c[u[e[r]]][1].push(e),i.push(e.data)})),[n,c]}));return E(c),{flatdata:i}}(Z,e),n=t.flatdata,r={};if(e[0]&&e[0].data&&e[0].data[0]){var a=Object.keys(e[0].data[0]);a.forEach((function(e){r[e]=[1/0,-1/0];var t=n.map((function(t){return(0,g.Wem)(t,(function(t){return+t[e]}))}));r[e]=[(0,g.VV$)(t,(function(e){return e[0]})),(0,g.Fp7)(t,(function(e){return e[1]}))],Q[e]&&(r[e].label=Q[e])})),R(a)}else R([]);V(r)}),[Z,e]);var ee=function(e,t){J[e].key=t,Y((0,a.Z)(J))},te="markers"===F||"lines2"===F||"violin"===F||"lines"===F||"Splom"===F,ne=function(e){var t=(0,o.Z)(e,2),n=t[0],r=t[1];switch(F){case"markers":case"lines":return(0,b.jsx)(l.ZP,{container:!0,children:r.map((function(e,t){var r,a=(0,o.Z)(e,2),u=a[0],i=a[1];return(0,b.jsxs)(l.ZP,{item:!0,xs:4,sx:{height:200,mb:3,paddingTop:2},children:[(0,b.jsx)(m.Z,{variant:"h5",textAlign:"center",children:u}),i[0]&&(0,b.jsx)(w,{data:null===(r=i[0])||void 0===r?void 0:r.data,xKey:J[0].key,yKey:J[1].key,domain:T,cKey:J[3].key,colorDomain:T[J[3].key],getArr:function(e){var t=(0,o.Z)(e,2),n=(t[0],t[1]);return n[0]?n[0].data:[]},getName:function(e){var t=(0,o.Z)(e,2),n=t[0];t[1];return n},mode:F,showscale:2===t})]},"".concat(n," ").concat(u))}))});case"lines2":return(0,b.jsx)(z,{getArr:function(e){var t=(0,o.Z)(e,2),n=(t[0],t[1]);return n[0]?n[0].data:[]},getName:function(e){var t=(0,o.Z)(e,2),n=t[0];t[1];return n},data:r,xKey:J[0].key,yKey:J[1].key,domain:T});case"violin":return(0,b.jsx)(X,{getArr:function(e){var t=(0,o.Z)(e,2),n=(t[0],t[1]);return n[0]?n[0].data:[]},getName:function(e){var t=(0,o.Z)(e,2),n=t[0];t[1];return n},domain:T,data:r,mode:"violin",dimensionKeys:J[4].key});case"boxplot":return(0,b.jsx)(X,{getArr:function(e){var t=(0,o.Z)(e,2),n=(t[0],t[1]);return n[0]?n[0].data:[]},getName:function(e){var t=(0,o.Z)(e,2),n=t[0];t[1];return n},domain:T,data:r,mode:"box",dimensionKeys:J[4].key});case"Splom":return(0,b.jsx)(P,{getArr:function(e){var t=(0,o.Z)(e,2),n=(t[0],t[1]);return n[0]?n[0].data:[]},getName:function(e){var t=(0,o.Z)(e,2),n=t[0];t[1];return n},data:r,dimensionKeys:J[4].key});case"pca":return(0,b.jsx)(q,{getArr:function(e){var t=(0,o.Z)(e,2),n=(t[0],t[1]);return n[0]?n[0].data:[]},getName:function(e){var t=(0,o.Z)(e,2),n=t[0];t[1];return n},data:r,dimensionKeys:J[4].key});case"pca_2":return(0,b.jsx)(U,{getArr:function(e){var t=(0,o.Z)(e,2),n=(t[0],t[1]);return n[0]?n[0].data:[]},getName:function(e){var t=(0,o.Z)(e,2),n=t[0];t[1];return n},data:r,dimensionKeys:J[4].key});case"sim":return(0,b.jsx)(l.ZP,{container:!0,children:J[4].key.map((function(e){return(0,b.jsxs)(l.ZP,{item:!0,xs:J[4].key.length>1?6:12,sx:{height:200,mb:3},children:[(0,b.jsx)(m.Z,{variant:"h5",textAlign:"center",children:e}),(0,b.jsx)(I,{getArr:function(e){var t=(0,o.Z)(e,2),n=(t[0],t[1]);return n[0]?n[0].data:[]},getName:function(e){var t=(0,o.Z)(e,2),n=t[0];t[1];return n},data:r,dimensionKey:e})]},e)}))});case"Ribbon":return(0,b.jsx)(A,{getArr:function(e){var t=(0,o.Z)(e,2),n=(t[0],t[1]);return n[0]?n[0].data:[]},getName:function(e){var t=(0,o.Z)(e,2),n=t[0];t[1];return n},data:r,xKey:J[0].key,yKey:J[1].key,zKey:J[2].key,cKey:J[3].key});default:return(0,b.jsx)(b.Fragment,{children:"Not support yet"})}};return(0,b.jsxs)(l.ZP,{container:!0,spacing:c.dv,children:[(0,b.jsx)(l.ZP,{item:!0,xs:12,children:(0,b.jsxs)(p.Z,{spacing:2,direction:"row",children:[(0,b.jsxs)(f.Z,{select:!0,label:"Plot type",size:"small",sx:{minWidth:200},value:F,onChange:function(e){return D(e.target.value)},children:[(0,b.jsx)(d.Z,{value:"markers",children:"Scatter plot"}),(0,b.jsx)(d.Z,{value:"lines",children:"Line chart"}),(0,b.jsx)(d.Z,{value:"lines2",children:"Line chart (combine)"}),(0,b.jsx)(d.Z,{value:"violin",children:"Violin chart (combine)"}),(0,b.jsx)(d.Z,{value:"boxplot",children:"Box plot (combine)"}),(0,b.jsx)(d.Z,{value:"Ribbon",children:"3D scatter plot"}),(0,b.jsx)(d.Z,{value:"Splom",children:"Splom"}),(0,b.jsx)(d.Z,{value:"pca",children:"PCA"}),(0,b.jsx)(d.Z,{value:"pca_2",children:"PCA 2"}),(0,b.jsx)(d.Z,{value:"sim",children:"Similarity matrix"})]}),(0,b.jsx)(h.Z,{value:"app_profile",selected:Z,color:"primary",onChange:function(){return k(!Z)},children:"Swap App and Profile"}),function(){switch(F){case"markers":case"lines":return J.map((function(e,t){return(0,b.jsx)(s.Z,{value:e.key,getOptionLabel:function(e){return e},size:"small",sx:{minWidth:200,display:e.is3D?"none":void 0},options:N,onChange:function(e,n){return ee(t,n)},renderInput:function(t){return(0,b.jsx)(f.Z,(0,r.Z)((0,r.Z)({},t),{},{label:e.label}))}},e.label)}));case"violin":case"boxplot":case"Splom":case"pca":case"pca_2":case"sim":return(0,b.jsx)(s.Z,{value:J[4].key,multiple:!0,getOptionLabel:function(e){return e},size:"small",options:N,onChange:function(e,t){return ee(4,t)},renderInput:function(e){return(0,b.jsx)(f.Z,(0,r.Z)((0,r.Z)({},e),{},{label:J[4].label}))}});default:return J.map((function(e,t){return(0,b.jsx)(s.Z,{value:e.key,size:"small",getOptionLabel:function(e){return e},sx:{minWidth:200,display:"color"===e.label?"none":void 0},options:N,onChange:function(e,n){return ee(t,n)},renderInput:function(t){return(0,b.jsx)(f.Z,(0,r.Z)((0,r.Z)({},t),{},{label:e.label}))}},e.label)}))}}()]})}),M.map((function(e){var t=(0,o.Z)(e,2),n=t[0],r=t[1];return(0,b.jsx)(l.ZP,{item:!0,xs:te?12:6,children:(0,b.jsx)(v.Z,{children:(0,b.jsxs)(x.Z,{sx:{p:2,pl:2},children:[(0,b.jsx)(m.Z,{variant:"h3",children:n}),ne([n,r])]})})},n)}))]})}}}]);
//# sourceMappingURL=331.a105fc60.chunk.js.map