"use strict";(self.webpackChunkapp_perform_dashboard=self.webpackChunkapp_perform_dashboard||[]).push([[340],{4340:function(e,t,n){n.r(t),n.d(t,{default:function(){return P}});var a=n(1413),r=n(3433),i=n(9439),s=n(9434),o=n(5739),u=n(1923),l=n(6846),c=n(9218),d=n(1889),f=n(3767),h=n(3786),p=n(7621),x=n(4554),m=n(890),y=n(2791),Z=n(9288),v=(n(3791),n(8286)),k=n(184),j=[],b=[void 0,void 0],g={title:{text:"",pad:0},margin:{t:10,l:50,b:20,r:30}},K=function(e){var t=e.data,n=void 0===t?j:t,a=e.xKey,r=e.yKey,s=e.cKey,o=e.colorDomain,u=void 0===o?b:o,l=e.mode,c=void 0===l?"line":l,d=e.showscale,f=(0,y.useTransition)(),h=(0,i.Z)(f,2),p=(h[0],h[1]),x=(0,y.useState)(j),m=(0,i.Z)(x,2),Z=m[0],K=m[1],S=(0,y.useState)([]),z=(0,i.Z)(S,2),A=z[0],P=z[1];(0,y.useEffect)((function(){p((function(){var e=[],t=[];n.forEach((function(n){e.push(n[a]),t.push(n[r])})),K({x:e,y:t})}))}),[a,r,n]),(0,y.useEffect)((function(){P("markers"===c&&s?n.map((function(e){return e[s]})):[])}),[n,s,c]);var w=[{x:Z.x,y:Z.y,type:"scatter",mode:c}];return console.log(u),A.length&&(w[0].marker={color:A,colorscale:"Portland",colorbarTitleText:s,colorbarThickness:5,showscale:d,cmin:u[0],cmax:u[1]}),(0,k.jsx)(v.Z,{data:w,style:{width:"100%",height:"100%"},layout:g,useResizeHandler:!0})},S=[],z={title:{text:"",pad:0},margin:{t:10,l:50,b:20,r:10}},A=function(e){var t=e.data,n=void 0===t?S:t,r=e.getArr,s=e.getName,o=e.xKey,u=e.yKey,l=e.zKey,c=(e.mode,(0,y.useState)(S)),d=(0,i.Z)(c,2),f=d[0],h=d[1];(0,y.useEffect)((function(){var e=n.map((function(e){var t=[],n=[],a=[];return r(e).forEach((function(e){t.push(e[o]),n.push(e[u]),a.push(e[l])})),{name:s(e),x:t,y:n,z:a}}));h(e)}),[o,u,l,n]);var p=(0,y.useMemo)((function(){return f.map((function(e){return(0,a.Z)((0,a.Z)({},e),{},{type:"scatter3d",colorscale:"Portland",mode:"markers",marker:{size:3}})}))}),[f]);return(0,k.jsx)(v.Z,{data:p,style:{width:"100%",height:"100%"},layout:(0,a.Z)((0,a.Z)({},z),{},{scene:{xaxis:{title:{text:o}},yaxis:{title:{text:u}},zaxis:{title:{text:l}}}}),useResizeHandler:!0})},P=function(){var e=(0,s.v9)(o.hp),t=(0,y.useState)([]),n=(0,i.Z)(t,2),v=n[0],j=n[1],b=(0,y.useState)([]),g=(0,i.Z)(b,2),S=g[0],z=g[1],P=(0,y.useState)({}),w=(0,i.Z)(P,2),E=w[0],N=w[1],C=(0,y.useState)("lines"),D=(0,i.Z)(C,2),R=D[0],T=D[1],W=(0,y.useState)([]),_=(0,i.Z)(W,2),H=(_[0],_[1],(0,y.useState)([{label:"x",key:"index"},{label:"y",key:"voltage"},{label:"z",key:null,is3D:!0},{label:"color",key:null}])),I=(0,i.Z)(H,2),O=I[0],V=I[1];(0,y.useEffect)((function(){var t=(0,Z.Xxj)(e,(function(e){return e.Profile})),n={},a=[],r=t.map((function(e){var t=(0,i.Z)(e,2),r=t[0],s=t[1],o=Object.keys(n).map((function(e){return[e,[]]}));return s.forEach((function(e){void 0===n[e.AppName]&&(n[e.AppName]=o.length,o[n[e.AppName]]=[e.AppName,[]]),o[n[e.AppName]][1].push(e),a.push(e.data)})),[r,o]}));j(r);var s={};if(e[0]&&e[0].data&&e[0].data[0]){var o=Object.keys(e[0].data[0]);o.forEach((function(e){s[e]=[1/0,-1/0];var t=a.map((function(t){return(0,Z.Wem)(t,(function(t){return+t[e]}))}));s[e]=[(0,Z.VV$)(t,(function(e){return e[0]})),(0,Z.Fp7)(t,(function(e){return e[1]}))]})),z(o)}else z([]);N(s)}),[e]);var F=function(e,t){O[e].key=t,V((0,r.Z)(O))},L="markers"===R||"lines"===R;return(0,k.jsxs)(d.ZP,{container:!0,spacing:u.dv,children:[(0,k.jsx)(d.ZP,{item:!0,xs:12,children:(0,k.jsxs)(f.Z,{spacing:2,direction:"row",children:[(0,k.jsxs)(c.Z,{select:!0,label:"Plot type",size:"small",sx:{minWidth:200},value:R,onChange:function(e){return T(e.target.value)},children:[(0,k.jsx)(h.Z,{value:"markers",children:"Scatter plot"}),(0,k.jsx)(h.Z,{value:"lines",children:"Line chart"}),(0,k.jsx)(h.Z,{value:"Ribbon",children:"3D scatter plot"}),(0,k.jsx)(h.Z,{value:"Splom",children:"Splom"}),(0,k.jsx)(h.Z,{value:"pca",children:"PCA"})]}),function(){switch(R){case"markers":case"lines":return O.map((function(e,t){return(0,k.jsx)(l.Z,{value:e.key,size:"small",sx:{minWidth:200,display:e.is3D?"none":void 0},options:S,onChange:function(e,n){return F(t,n)},renderInput:function(t){return(0,k.jsx)(c.Z,(0,a.Z)((0,a.Z)({},t),{},{label:e.label}))}},e.label)}));default:return O.map((function(e,t){return(0,k.jsx)(l.Z,{value:e.key,size:"small",sx:{minWidth:200},options:S,onChange:function(e,n){return F(t,n)},renderInput:function(t){return(0,k.jsx)(c.Z,(0,a.Z)((0,a.Z)({},t),{},{label:e.label}))}},e.label)}))}}()]})}),v.map((function(e){var t=(0,i.Z)(e,2),n=t[0],a=t[1];return(0,k.jsx)(d.ZP,{item:!0,xs:L?12:6,children:(0,k.jsx)(p.Z,{children:(0,k.jsxs)(x.Z,{sx:{p:2,pl:2},children:[(0,k.jsx)(m.Z,{variant:"h3",children:n}),L&&(0,k.jsx)(d.ZP,{container:!0,children:a.map((function(e,t){var a,r=(0,i.Z)(e,2),s=r[0],o=r[1];return(0,k.jsxs)(d.ZP,{item:!0,xs:4,sx:{height:200,mb:3},children:[(0,k.jsx)(m.Z,{variant:"h5",textAlign:"center",children:s}),o[0]&&(0,k.jsx)(K,{data:null===(a=o[0])||void 0===a?void 0:a.data,xKey:O[0].key,yKey:O[1].key,cKey:O[3].key,colorDomain:E[O[3].key],getArr:function(e){var t=(0,i.Z)(e,2),n=(t[0],t[1]);return n[0]?n[0].data:[]},getName:function(e){var t=(0,i.Z)(e,2),n=t[0];t[1];return n},mode:R,showscale:2===t})]},"".concat(n," ").concat(s))}))}),"Ribbon"===R&&(0,k.jsx)(A,{getArr:function(e){var t=(0,i.Z)(e,2),n=(t[0],t[1]);return n[0]?n[0].data:[]},getName:function(e){var t=(0,i.Z)(e,2),n=t[0];t[1];return n},data:a,xKey:O[0].key,yKey:O[1].key,zKey:O[2].key,cKey:O[3].key})]})})},n)}))]})}}}]);
//# sourceMappingURL=340.30c339a3.chunk.js.map